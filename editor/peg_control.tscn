[gd_scene load_steps=4 format=3 uid="uid://4jairl80n3qw"]

[ext_resource type="Script" path="res://MenuButtonScript.tres.gd" id="1_dtm3l"]

[sub_resource type="GDScript" id="GDScript_gn8tb"]
script/source = "extends CheckButton

@onready var rend = $/root/RootControl.find_child(\"Render\")

func _ready():
	var bg := ButtonGroup.new()
	button_group = bg
	$\"../CheckRect\".button_group = bg

func _on_pressed():
	rend.do_update()
"

[sub_resource type="GDScript" id="GDScript_vhp14"]
script/source = "extends SpinBox

@onready var rend = $/root/RootControl.find_child(\"Render\")

func new_max_y(new_max : int):
	max_value = new_max

func _on_value_changed(_value):
	rend.do_update()
"

[node name="PegControl" type="Panel" groups=["pegs", "static_pegs"]]
custom_minimum_size = Vector2(100, 200)

[node name="Margin" type="MarginContainer" parent="."]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 146.0
grow_horizontal = 2
theme_override_constants/margin_left = 12
theme_override_constants/margin_top = 12
theme_override_constants/margin_right = 12
theme_override_constants/margin_bottom = 12

[node name="VBox" type="VBoxContainer" parent="Margin"]
layout_mode = 2
theme_override_constants/separation = 6

[node name="StaticPeg" type="Label" parent="Margin/VBox"]
layout_mode = 2
text = "StaticPeg0"

[node name="Grid1" type="GridContainer" parent="Margin/VBox"]
layout_mode = 2
theme_override_constants/h_separation = 6
theme_override_constants/v_separation = 6
columns = 2

[node name="CheckCirc" type="CheckButton" parent="Margin/VBox/Grid1"]
layout_mode = 2
size_flags_horizontal = 3
button_pressed = true
text = "Circle"
alignment = 1
script = SubResource("GDScript_gn8tb")

[node name="CheckRect" type="CheckButton" parent="Margin/VBox/Grid1"]
layout_mode = 2
size_flags_horizontal = 3
text = "Rectangle"
alignment = 1

[node name="Grid2" type="GridContainer" parent="Margin/VBox"]
layout_mode = 2
theme_override_constants/h_separation = 6
theme_override_constants/v_separation = 6
columns = 4

[node name="XLabel" type="Label" parent="Margin/VBox/Grid2"]
layout_mode = 2
size_flags_horizontal = 3
text = "X"
horizontal_alignment = 2

[node name="XText" type="SpinBox" parent="Margin/VBox/Grid2"]
layout_mode = 2
size_flags_horizontal = 3
max_value = 960.0
value = 100.0
rounded = true

[node name="YLabel" type="Label" parent="Margin/VBox/Grid2"]
layout_mode = 2
size_flags_horizontal = 3
text = "Y"
horizontal_alignment = 2

[node name="YText" type="SpinBox" parent="Margin/VBox/Grid2" groups=["y_sensitive"]]
layout_mode = 2
size_flags_horizontal = 3
max_value = 960.0
value = 100.0
rounded = true
script = SubResource("GDScript_vhp14")

[node name="SizeLabel" type="Label" parent="Margin/VBox/Grid2"]
layout_mode = 2
size_flags_horizontal = 3
text = "Size
"
horizontal_alignment = 2

[node name="SizeText" type="MenuButton" parent="Margin/VBox/Grid2"]
layout_mode = 2
size_flags_horizontal = 3
text = "Small"
flat = false
item_count = 4
popup/item_0/text = "Small"
popup/item_0/id = 0
popup/item_1/text = "Medium"
popup/item_1/id = 1
popup/item_2/text = "Large"
popup/item_2/id = 2
popup/item_3/text = "Max"
popup/item_3/id = 3
script = ExtResource("1_dtm3l")

[node name="AngleLabel" type="Label" parent="Margin/VBox/Grid2"]
layout_mode = 2
size_flags_horizontal = 3
text = "Angle"
horizontal_alignment = 2

[node name="AngleText" type="SpinBox" parent="Margin/VBox/Grid2"]
layout_mode = 2
size_flags_horizontal = 3
max_value = 360.0
rounded = true

[node name="TypeLabel" type="Label" parent="Margin/VBox/Grid2"]
layout_mode = 2
size_flags_horizontal = 3
text = "Type"
horizontal_alignment = 2

[node name="TypeText" type="MenuButton" parent="Margin/VBox/Grid2"]
layout_mode = 2
text = "Normal"
flat = false
item_count = 3
popup/item_0/text = "Normal"
popup/item_0/id = 0
popup/item_1/text = "Required"
popup/item_1/id = 1
popup/item_2/text = "Special"
popup/item_2/id = 2
script = ExtResource("1_dtm3l")

[node name="RemoveLabel" type="Label" parent="Margin/VBox/Grid2"]
layout_mode = 2
size_flags_horizontal = 3
horizontal_alignment = 2

[node name="Remove" type="Button" parent="Margin/VBox/Grid2"]
layout_mode = 2
text = "Remove"

[connection signal="tree_exited" from="." to="Margin/VBox/Grid1/CheckCirc" method="_on_pressed"]
[connection signal="pressed" from="Margin/VBox/Grid1/CheckCirc" to="Margin/VBox/Grid1/CheckCirc" method="_on_pressed"]
[connection signal="pressed" from="Margin/VBox/Grid1/CheckRect" to="Margin/VBox/Grid1/CheckCirc" method="_on_pressed"]
[connection signal="value_changed" from="Margin/VBox/Grid2/XText" to="Margin/VBox/Grid2/YText" method="_on_value_changed"]
[connection signal="value_changed" from="Margin/VBox/Grid2/YText" to="Margin/VBox/Grid2/YText" method="_on_value_changed"]
[connection signal="value_changed" from="Margin/VBox/Grid2/AngleText" to="Margin/VBox/Grid2/YText" method="_on_value_changed"]
[connection signal="pressed" from="Margin/VBox/Grid2/Remove" to="." method="queue_free"]
